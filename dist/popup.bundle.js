document.getElementById("fullpage-btn").addEventListener("click",(function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){if(0!==e.length){var t=e[0];chrome.scripting.executeScript({target:{tabId:t.id},files:["content.bundle.js"]},(function(){chrome.tabs.sendMessage(t.id,{action:"capture_full_page"},(function(e){if(chrome.runtime.lastError)return console.error("Runtime error:",chrome.runtime.lastError),void(document.getElementById("status").textContent="Error: Unable to capture screenshot. Check console for details.");e&&e.success?document.getElementById("status").textContent="Full-page screenshot saved successfully.":document.getElementById("status").textContent="Failed to capture full-page screenshot."}))}))}else console.error("No active tab found")}))})),document.getElementById("screen-btn").addEventListener("click",(function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){chrome.tabs.captureVisibleTab(null,{format:"png"},(function(t){var n=new URL(e[0].url).hostname.replace(/\./g,"_"),r=(new Date).toISOString().replace(/:/g,"-"),o="".concat(n,"-").concat(r,".png");chrome.downloads.download({url:t,filename:o})}))}))}));